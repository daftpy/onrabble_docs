<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- privatemessagemodel.cpp -->
  <meta name="description" content="Stores all private chat messages and provides the source for filtering.">
  <title>PrivateMessageModel Class | OnRabbleClient</title>
 <link rel="stylesheet" type="text/css" href="style/styles.css" />
   <link rel="stylesheet" type="text/css" href="style/base.css" />
  <script type="text/javascript" src="style/main.js"></script>
 </head>
<body>
<div id="Container"><div id="IncludedNavbar"></div><div id="BodyContainer">
 <div id="IncludedSidebar"></div>
 <div id="ContentContainer"><div id="Content">
<li>PrivateMessageModel</li>
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#reimplemented-public-functions">Reimplemented Public Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#overview">Overview</a></li>
<li class="level3"><a href="#internal-members">Internal Members</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">PrivateMessageModel Class</h1>
<!-- $$$PrivateMessageModel-brief -->
<p>Stores all private chat messages and provides the source for filtering. <a href="#details">More...</a></p>
<!-- @@@PrivateMessageModel -->
<div class="table"><table class="alignedsummary requisites" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <code translate="no">#include &lt;PrivateMessageModel&gt;</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="https://doc.qt.io/qt/qabstractlistmodel.html" translate="no">QAbstractListModel</a></td></tr>
</table></div>
<ul>
<li><a href="privatemessagemodel-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#PrivateMessageModel" translate="no">PrivateMessageModel</a></b>(QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#appendMessage" translate="no">appendMessage</a></b>(const PrivateMessagePayload &amp;<i>msg</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#clear" translate="no">clear</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> const QList&lt;PrivateMessagePayload&gt; &amp;</td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#messages" translate="no">messages</a></b>() const</td></tr>
</table></div>
<h2 id="reimplemented-public-functions">Reimplemented Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual QVariant </td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#data" translate="no">data</a></b>(const QModelIndex &amp;<i>index</i>, int <i>role</i> = Qt::DisplayRole) const override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QHash&lt;int, QByteArray&gt; </td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#roleNames" translate="no">roleNames</a></b>() const override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual int </td><td class="memItemRight bottomAlign"><b><a href="privatemessagemodel.html#rowCount" translate="no">rowCount</a></b>(const QModelIndex &amp;<i>parent</i> = QModelIndex()) const override</td></tr>
</table></div>
<!-- $$$PrivateMessageModel-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<h3 id="overview">Overview</h3>
<p>PrivateMessageModel is a <a href="https://doc.qt.io/qt/qabstractlistmodel.html" translate="no">QAbstractListModel</a> that holds a list of <a href="privatemessagepayload.html" translate="no">PrivateMessagePayload</a> objects, representing one-on-one direct messages between users. It is not exposed directly to QML; instead, it is consumed internally by <a href="privatemessageproxymodel.html" translate="no">PrivateMessageProxyModel</a>, which filters messages by user and is exposed to the UI through the <a href="clientmanager.html" translate="no">ClientManager</a>.</p>
<p>The model supports prepending new messages, clearing its contents, and retrieving the full internal list for use by message controllers or proxies.</p>
<div class="internal"><h4 id="internal-members">Internal Members</h4>
<p><b>Private</b> <b>Variables</b></p>
<ul>
<li><code translate="no">m_messages (QList&lt;PrivateMessagePayload&gt;)</code> &mdash; Stores private messages in reverse-chronological order</li>
</ul>
</div></div>
<p><b>See also </b><a href="privatemessageproxymodel.html" translate="no">PrivateMessageProxyModel</a>.</p>
<!-- @@@PrivateMessageModel -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$PrivateMessageModel[overload1]$$$PrivateMessageModelQObject* -->
<h3 class="fn" translate="no" id="PrivateMessageModel"><code class="details extra" translate="no">[explicit]</code> PrivateMessageModel::<span class="name">PrivateMessageModel</span>(<span class="type"><a href="https://doc.qt.io/qt/qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs an empty private message model.</p>
<p><i translate="no">parent</i> is the optional <a href="https://doc.qt.io/qt/qobject.html" translate="no">QObject</a> parent.</p>
<!-- @@@PrivateMessageModel -->
<!-- $$$appendMessage[overload1]$$$appendMessageconstPrivateMessagePayload& -->
<h3 class="fn" translate="no" id="appendMessage"><code class="details extra" translate="no">[invokable]</code> <span class="type">void</span> PrivateMessageModel::<span class="name">appendMessage</span>(const <span class="type"><a href="privatemessagepayload.html" translate="no">PrivateMessagePayload</a></span> &amp;<i>msg</i>)</h3>
<p>Prepends a private message <i translate="no">msg</i> to the model.</p>
<p>New messages appear at the top of the list.</p>
<div class="admonition note"><p><b>Note: </b>This function can be invoked via the meta-object system and from QML. See <a href="https://doc.qt.io/qt/qobject.html#Q_INVOKABLE" translate="no">Q_INVOKABLE</a>.</p>
</div><!-- @@@appendMessage -->
<!-- $$$clear[overload1]$$$clear -->
<h3 class="fn" translate="no" id="clear"><span class="type">void</span> PrivateMessageModel::<span class="name">clear</span>()</h3>
<p>Clears all private messages from the model.</p>
<!-- @@@clear -->
<!-- $$$data[overload1]$$$dataconstQModelIndex&int -->
<h3 class="fn" translate="no" id="data"><code class="details extra" translate="no">[override virtual]</code> <span class="type"><a href="https://doc.qt.io/qt/qvariant.html" translate="no">QVariant</a></span> PrivateMessageModel::<span class="name">data</span>(const <span class="type"><a href="https://doc.qt.io/qt/qmodelindex.html" translate="no">QModelIndex</a></span> &amp;<i>index</i>, <span class="type">int</span> <i>role</i> = Qt::DisplayRole) const</h3>
<p>Reimplements: <a href="https://doc.qt.io/qt/qabstractitemmodel.html#data" translate="no">QAbstractItemModel::data</a>(const QModelIndex &amp;index, int role) const.</p>
<p>Returns the data for the message at <i translate="no">index</i> for the given <i translate="no">role</i>.</p>
<p>This includes fields such as sender, recipient, and timestamp. Returns an invalid <a href="https://doc.qt.io/qt/qvariant.html" translate="no">QVariant</a> if the index is out of bounds.</p>
<!-- @@@data -->
<!-- $$$messages[overload1]$$$messages -->
<h3 class="fn" translate="no" id="messages">const <span class="type"><a href="https://doc.qt.io/qt/qlist.html" translate="no">QList</a></span>&lt;<span class="type"><a href="privatemessagepayload.html" translate="no">PrivateMessagePayload</a></span>&gt; &amp;PrivateMessageModel::<span class="name">messages</span>() const</h3>
<p>Returns a const reference to the internal message list.</p>
<!-- @@@messages -->
<!-- $$$roleNames[overload1]$$$roleNames -->
<h3 class="fn" translate="no" id="roleNames"><code class="details extra" translate="no">[override virtual]</code> <span class="type"><a href="https://doc.qt.io/qt/qhash.html" translate="no">QHash</a></span>&lt;<span class="type">int</span>, <span class="type"><a href="https://doc.qt.io/qt/qbytearray.html" translate="no">QByteArray</a></span>&gt; PrivateMessageModel::<span class="name">roleNames</span>() const</h3>
<p>Reimplements: <a href="https://doc.qt.io/qt/qabstractitemmodel.html#roleNames" translate="no">QAbstractItemModel::roleNames</a>() const.</p>
<p>Returns a mapping from role IDs to QML role names.</p>
<p>This allows QML views to bind to message properties like <code translate="no">username</code>, <code translate="no">message</code>, etc.</p>
<!-- @@@roleNames -->
<!-- $$$rowCount[overload1]$$$rowCountconstQModelIndex& -->
<h3 class="fn" translate="no" id="rowCount"><code class="details extra" translate="no">[override virtual]</code> <span class="type">int</span> PrivateMessageModel::<span class="name">rowCount</span>(const <span class="type"><a href="https://doc.qt.io/qt/qmodelindex.html" translate="no">QModelIndex</a></span> &amp;<i>parent</i> = QModelIndex()) const</h3>
<p>Reimplements: <a href="https://doc.qt.io/qt/qabstractitemmodel.html#rowCount" translate="no">QAbstractItemModel::rowCount</a>(const QModelIndex &amp;parent) const.</p>
<p>Returns the number of messages in the model.</p>
<p><i translate="no">parent</i> is unused in this flat list implementation.</p>
<!-- @@@rowCount -->
</div>
</div>
</div>
</div>
<div id="Footer">Footer</div>
</div>
</body>
</html>
