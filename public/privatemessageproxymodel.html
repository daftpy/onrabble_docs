<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- privatemessageproxymodel.cpp -->
  <meta name="description" content="Filters private messages exchanged between two specific users.">
  <title>PrivateMessageProxyModel Class | OnRabbleClient</title>
 <link rel="stylesheet" type="text/css" href="style/styles.css" />
   <link rel="stylesheet" type="text/css" href="style/base.css" />
  <script type="text/javascript" src="style/main.js"></script>
 </head>
<body>
<div id="Container"><div id="IncludedNavbar"></div><div id="BodyContainer">
 <div id="IncludedSidebar"></div>
 <div id="ContentContainer"><div id="Content">
<li>PrivateMessageProxyModel</li>
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#reimplemented-protected-functions">Reimplemented Protected Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#overview">Overview</a></li>
<li class="level3"><a href="#internal-members">Internal Members</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">PrivateMessageProxyModel Class</h1>
<!-- $$$PrivateMessageProxyModel-brief -->
<p>Filters private messages exchanged between two specific users. <a href="#details">More...</a></p>
<!-- @@@PrivateMessageProxyModel -->
<div class="table"><table class="alignedsummary requisites" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <code translate="no">#include &lt;PrivateMessageProxyModel&gt;</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="https://doc.qt.io/qt/qsortfilterproxymodel.html" translate="no">QSortFilterProxyModel</a></td></tr>
</table></div>
<ul>
<li><a href="privatemessageproxymodel-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#PrivateMessageProxyModel" translate="no">PrivateMessageProxyModel</a></b>(QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVariantMap </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#get" translate="no">get</a></b>(int <i>row</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#myUserId" translate="no">myUserId</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#setMyUserId" translate="no">setMyUserId</a></b>(const QString &amp;<i>id</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#setTargetUserId" translate="no">setTargetUserId</a></b>(const QString &amp;<i>id</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#targetUserId" translate="no">targetUserId</a></b>() const</td></tr>
</table></div>
<h2 id="signals">Signals</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#myUserId-prop" translate="no">myUserIdChanged</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#targetUserId-prop" translate="no">targetUserIdChanged</a></b>()</td></tr>
</table></div>
<h2 id="reimplemented-protected-functions">Reimplemented Protected Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="privatemessageproxymodel.html#filterAcceptsRow" translate="no">filterAcceptsRow</a></b>(int <i>sourceRow</i>, const QModelIndex &amp;<i>sourceParent</i>) const override</td></tr>
</table></div>
<!-- $$$PrivateMessageProxyModel-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<h3 id="overview">Overview</h3>
<p>PrivateMessageProxyModel sits on top of <a href="privatemessagemodel.html" translate="no">PrivateMessageModel</a> and filters its contents to only expose messages where either:</p>
<ul>
<li>The current user is the sender and the target user is the recipient</li>
<li>Or the current user is the recipient and the target user is the sender</li>
</ul>
<p>This allows QML views to display private chat threads without managing filtering logic.</p>
<div class="internal"><h4 id="internal-members">Internal Members</h4>
<p><b>Private</b> <b>Variables</b></p>
<ul>
<li><code translate="no">m_myUserId (<a href="https://doc.qt.io/qt/qstring.html" translate="no">QString</a>)</code> &mdash; ID of the current authenticated user</li>
<li><code translate="no">m_targetUserId (<a href="https://doc.qt.io/qt/qstring.html" translate="no">QString</a>)</code> &mdash; ID of the user on the other end of the conversation</li>
</ul>
</div></div>
<p><b>See also </b><a href="privatemessagemodel.html" translate="no">PrivateMessageModel</a>.</p>
<!-- @@@PrivateMessageProxyModel -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$PrivateMessageProxyModel[overload1]$$$PrivateMessageProxyModelQObject* -->
<h3 class="fn" translate="no" id="PrivateMessageProxyModel"><code class="details extra" translate="no">[explicit]</code> PrivateMessageProxyModel::<span class="name">PrivateMessageProxyModel</span>(<span class="type"><a href="https://doc.qt.io/qt/qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs a new proxy model for filtering private messages.</p>
<!-- @@@PrivateMessageProxyModel -->
<!-- $$$filterAcceptsRow[overload1]$$$filterAcceptsRowintconstQModelIndex& -->
<h3 class="fn" translate="no" id="filterAcceptsRow"><code class="details extra" translate="no">[override virtual protected]</code> <span class="type">bool</span> PrivateMessageProxyModel::<span class="name">filterAcceptsRow</span>(<span class="type">int</span> <i>sourceRow</i>, const <span class="type"><a href="https://doc.qt.io/qt/qmodelindex.html" translate="no">QModelIndex</a></span> &amp;<i>sourceParent</i>) const</h3>
<p>Reimplements: <a href="https://doc.qt.io/qt/qsortfilterproxymodel.html#filterAcceptsRow" translate="no">QSortFilterProxyModel::filterAcceptsRow</a>(int source_row, const QModelIndex &amp;source_parent) const.</p>
<p>Returns <code translate="no">true</code> if the message at <i translate="no">sourceRow</i> is between the current user and the target user.</p>
<p>Both sent and received messages are accepted.</p>
<p><i translate="no">sourceParent</i> is the parent index for the row. For flat list models, this is typically an invalid index.</p>
<!-- @@@filterAcceptsRow -->
<!-- $$$get[overload1]$$$getint -->
<h3 class="fn" translate="no" id="get"><code class="details extra" translate="no">[invokable]</code> <span class="type"><a href="https://doc.qt.io/qt/qvariant.html#QVariantMap-typedef" translate="no">QVariantMap</a></span> PrivateMessageProxyModel::<span class="name">get</span>(<span class="type">int</span> <i>row</i>) const</h3>
<p>Returns a single row as a <a href="https://doc.qt.io/qt/qvariant.html#QVariantMap-typedef" translate="no">QVariantMap</a>, useful for QML delegate access.</p>
<p><i translate="no">row</i> is the index in the proxy model. Returns an empty map if the index is invalid.</p>
<div class="admonition note"><p><b>Note: </b>This function can be invoked via the meta-object system and from QML. See <a href="https://doc.qt.io/qt/qobject.html#Q_INVOKABLE" translate="no">Q_INVOKABLE</a>.</p>
</div><!-- @@@get -->
<!-- $$$myUserId -->
<h3 class="fn" translate="no" id="myUserId"><span class="type"><a href="https://doc.qt.io/qt/qstring.html" translate="no">QString</a></span> PrivateMessageProxyModel::<span class="name">myUserId</span>() const</h3>
<p>Returns the ID of the current user.</p>
<div class="admonition note"><p><b>Note: </b>Getter function for property myUserId. </p>
</div><p><b>See also </b><a href="privatemessageproxymodel.html#setMyUserId" translate="no">setMyUserId</a>().</p>
<!-- @@@myUserId -->
<!-- $$$setMyUserId -->
<h3 class="fn" translate="no" id="setMyUserId"><span class="type">void</span> PrivateMessageProxyModel::<span class="name">setMyUserId</span>(const <span class="type"><a href="https://doc.qt.io/qt/qstring.html" translate="no">QString</a></span> &amp;<i>id</i>)</h3>
<p>Sets the ID of the current user.</p>
<p><i translate="no">id</i> is the client user id.</p>
<p>Calling this triggers a re-evaluation of the filter.</p>
<div class="admonition note"><p><b>Note: </b>Setter function for property <a href="privatemessageproxymodel.html#myUserId" translate="no">myUserId</a>. </p>
</div><p><b>See also </b><a href="privatemessageproxymodel.html#myUserId" translate="no">myUserId</a>().</p>
<!-- @@@setMyUserId -->
<!-- $$$setTargetUserId -->
<h3 class="fn" translate="no" id="setTargetUserId"><span class="type">void</span> PrivateMessageProxyModel::<span class="name">setTargetUserId</span>(const <span class="type"><a href="https://doc.qt.io/qt/qstring.html" translate="no">QString</a></span> &amp;<i>id</i>)</h3>
<p>Sets the ID of the user being chatted with.</p>
<p><i translate="no">id</i> is the user id of private chat partner.</p>
<p>Calling this triggers a re-evaluation of the filter.</p>
<div class="admonition note"><p><b>Note: </b>Setter function for property <a href="privatemessageproxymodel.html#targetUserId" translate="no">targetUserId</a>. </p>
</div><p><b>See also </b><a href="privatemessageproxymodel.html#targetUserId" translate="no">targetUserId</a>().</p>
<!-- @@@setTargetUserId -->
<!-- $$$targetUserId -->
<h3 class="fn" translate="no" id="targetUserId"><span class="type"><a href="https://doc.qt.io/qt/qstring.html" translate="no">QString</a></span> PrivateMessageProxyModel::<span class="name">targetUserId</span>() const</h3>
<p>Returns the ID of the chat partner (target user).</p>
<div class="admonition note"><p><b>Note: </b>Getter function for property targetUserId. </p>
</div><p><b>See also </b><a href="privatemessageproxymodel.html#setTargetUserId" translate="no">setTargetUserId</a>().</p>
<!-- @@@targetUserId -->
</div>
</div>
</div>
</div>
<div id="Footer">Footer</div>
</div>
</body>
</html>
